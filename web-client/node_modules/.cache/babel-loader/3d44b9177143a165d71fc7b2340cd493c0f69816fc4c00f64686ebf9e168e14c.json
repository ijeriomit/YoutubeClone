{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive } from \"vue\";\nexport default {\n  __name: 'PageForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const formData = reactive({\n      pollTitleField: {\n        label: \"Title\",\n        name: \"pollT\",\n        id: \"pollT\",\n        validations: [{\n          required: true,\n          message: \"Test is Required\"\n        }],\n        value: \"\"\n      },\n      pollOptionsField: {\n        label: \"Enter poll option\",\n        name: \"options\",\n        id: \"options\",\n        validations: [{\n          required: true,\n          message: \"Options is Required\"\n        }],\n        currOptionValue: \"\",\n        optionValues: []\n      },\n      pollDescField: {\n        label: \"Description \",\n        name: \"desc\",\n        id: \"desc\",\n        validations: [{\n          required: true,\n          message: \"Description is Required\"\n        }],\n        value: \"\"\n      }\n    });\n    function createPoll() {\n      return {\n        pollTitle: formData.pollTitleField.value,\n        options: formData.pollOptionsField.optionValues,\n        description: formData.pollDescField.value\n      };\n    }\n    function addOption() {\n      const currOptionValue = formData.pollOptionsField.currOptionValue;\n      formData.pollOptionsField.optionValues.push(currOptionValue);\n      // formData.pollOptionsField.currOptionValue = \"\";\n      console.log(\"added option: \", currOptionValue);\n    }\n    async function formSubmit() {\n      console.log(\"form submitted\");\n      try {\n        const response = await fetch(\"http://localhost:8383/createPoll\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(createPoll())\n        });\n        console.log(response.status);\n      } catch (e) {\n        console.error(\"problem sending data\", e);\n      }\n    }\n    async function getForms() {\n      try {\n        const response = await fetch(\"http://localhost:8383/getSubmittedPolls\", {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        console.log(response.status, response.body);\n      } catch (e) {\n        console.error(\"problem sending data\", e);\n      }\n    }\n    const __returned__ = {\n      formData,\n      createPoll,\n      addOption,\n      formSubmit,\n      getForms,\n      reactive\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","formData","pollTitleField","label","name","id","validations","required","message","value","pollOptionsField","currOptionValue","optionValues","pollDescField","createPoll","pollTitle","options","description","addOption","push","console","log","formSubmit","response","fetch","method","headers","body","JSON","stringify","status","e","error","getForms"],"sources":["/Users/ijeriomitogun/Projects/TypescriptProjects/upstart-interview/web-client/src/components/PageForm.vue"],"sourcesContent":["<template>\n  <h1>Poll Page</h1>\n  <form @submit.prevent=\"formSubmit()\">\n    <label for=\"pollQ\">{{ formData.pollTitleField.label }}</label>\n    <input\n      type=\"text\"\n      :name=\"formData.pollTitleField.name\"\n      :id=\"formData.pollTitleField.id\"\n      v-model=\"formData.pollTitleField.value\"\n    />\n    <label for=\"desc\">{{ formData.pollDescField.label }}</label>\n    <input\n      type=\"text\"\n      :name=\"formData.pollDescField.name\"\n      :id=\"formData.pollDescField.id\"\n      v-model=\"formData.pollDescField.value\"\n    />\n    <div>\n      <label for=\"options\">{{ formData.pollOptionsField.label }}</label>\n      <input\n        type=\"text\"\n        :name=\"formData.pollOptionsField.name\"\n        :id=\"formData.pollOptionsField.id\"\n        v-model=\"formData.pollOptionsField.currOptionValue\"\n      />\n      <button @click.prevent=\"addOption()\">AddOption</button>\n      <div\n        v-for=\"(option, index) in formData.pollOptionsField.optionValues\"\n        :key=\"index\"\n      >\n        {{ option }}\n      </div>\n    </div>\n    <button @click=\"formSubmit()\">Submit</button>\n  </form>\n\n  <h2>Modify Forms</h2>\n</template>\n<script setup>\nimport { reactive } from \"vue\";\n\nconst formData = reactive({\n  pollTitleField: {\n    label: \"Title\",\n    name: \"pollT\",\n    id: \"pollT\",\n    validations: [{ required: true, message: \"Test is Required\" }],\n    value: \"\",\n  },\n  pollOptionsField: {\n    label: \"Enter poll option\",\n    name: \"options\",\n    id: \"options\",\n    validations: [{ required: true, message: \"Options is Required\" }],\n    currOptionValue: \"\",\n    optionValues: [],\n  },\n  pollDescField: {\n    label: \"Description \",\n    name: \"desc\",\n    id: \"desc\",\n    validations: [{ required: true, message: \"Description is Required\" }],\n    value: \"\",\n  },\n});\nfunction createPoll() {\n  return {\n    pollTitle: formData.pollTitleField.value,\n    options: formData.pollOptionsField.optionValues,\n    description: formData.pollDescField.value,\n  };\n}\nfunction addOption() {\n  const currOptionValue = formData.pollOptionsField.currOptionValue;\n  formData.pollOptionsField.optionValues.push(currOptionValue);\n  // formData.pollOptionsField.currOptionValue = \"\";\n  console.log(\"added option: \", currOptionValue);\n}\nasync function formSubmit() {\n  console.log(\"form submitted\");\n  try {\n    const response = await fetch(\"http://localhost:8383/createPoll\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(createPoll()),\n    });\n    console.log(response.status);\n  } catch (e) {\n    console.error(\"problem sending data\", e);\n  }\n}\nasync function getForms() {\n  try {\n    const response = await fetch(\"http://localhost:8383/getSubmittedPolls\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    console.log(response.status, response.body);\n  } catch (e) {\n    console.error(\"problem sending data\", e);\n  }\n}\n</script>\n"],"mappings":";AAuCA,SAASA,QAAQ,QAAQ,KAAK;;;;;;;IAE9B,MAAMC,QAAQ,GAAGD,QAAQ,CAAC;MACxBE,cAAc,EAAE;QACdC,KAAK,EAAE,OAAO;QACdC,IAAI,EAAE,OAAO;QACbC,EAAE,EAAE,OAAO;QACXC,WAAW,EAAE,CAAC;UAAEC,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAmB,CAAC,CAAC;QAC9DC,KAAK,EAAE;MACT,CAAC;MACDC,gBAAgB,EAAE;QAChBP,KAAK,EAAE,mBAAmB;QAC1BC,IAAI,EAAE,SAAS;QACfC,EAAE,EAAE,SAAS;QACbC,WAAW,EAAE,CAAC;UAAEC,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE;QAAsB,CAAC,CAAC;QACjEG,eAAe,EAAE,EAAE;QACnBC,YAAY,EAAE;MAChB,CAAC;MACDC,aAAa,EAAE;QACbV,KAAK,EAAE,cAAc;QACrBC,IAAI,EAAE,MAAM;QACZC,EAAE,EAAE,MAAM;QACVC,WAAW,EAAE,CAAC;UAAEC,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE;QAA0B,CAAC,CAAC;QACrEC,KAAK,EAAE;MACT;IACF,CAAC,CAAC;IACF,SAASK,UAAUA,CAAA,EAAG;MACpB,OAAO;QACLC,SAAS,EAAEd,QAAQ,CAACC,cAAc,CAACO,KAAK;QACxCO,OAAO,EAAEf,QAAQ,CAACS,gBAAgB,CAACE,YAAY;QAC/CK,WAAW,EAAEhB,QAAQ,CAACY,aAAa,CAACJ;MACtC,CAAC;IACH;IACA,SAASS,SAASA,CAAA,EAAG;MACnB,MAAMP,eAAe,GAAGV,QAAQ,CAACS,gBAAgB,CAACC,eAAe;MACjEV,QAAQ,CAACS,gBAAgB,CAACE,YAAY,CAACO,IAAI,CAACR,eAAe,CAAC;MAC5D;MACAS,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEV,eAAe,CAAC;IAChD;IACA,eAAeW,UAAUA,CAAA,EAAG;MAC1BF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7B,IAAI;QACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;UAC/DC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACf,UAAU,CAAC,CAAC;QACnC,CAAC,CAAC;QACFM,OAAO,CAACC,GAAG,CAACE,QAAQ,CAACO,MAAM,CAAC;MAC9B,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVX,OAAO,CAACY,KAAK,CAAC,sBAAsB,EAAED,CAAC,CAAC;MAC1C;IACF;IACA,eAAeE,QAAQA,CAAA,EAAG;MACxB,IAAI;QACF,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;UACtEC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QACFN,OAAO,CAACC,GAAG,CAACE,QAAQ,CAACO,MAAM,EAAEP,QAAQ,CAACI,IAAI,CAAC;MAC7C,CAAC,CAAC,OAAOI,CAAC,EAAE;QACVX,OAAO,CAACY,KAAK,CAAC,sBAAsB,EAAED,CAAC,CAAC;MAC1C;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}