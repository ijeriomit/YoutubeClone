{"ast":null,"code":"import _classPrivateFieldInitSpec from \"/Users/ijeriomitogun/Projects/TypescriptProjects/interview-web-client/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/Users/ijeriomitogun/Projects/TypescriptProjects/interview-web-client/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js\";\nimport _classPrivateFieldSet from \"/Users/ijeriomitogun/Projects/TypescriptProjects/interview-web-client/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { query, collection, getFirestore, getDocs, where, addDoc } from \"firebase/firestore\";\nvar _firebaseConfig = /*#__PURE__*/new WeakMap();\nvar _firebaseApp = /*#__PURE__*/new WeakMap();\nvar _firebaseDataBase = /*#__PURE__*/new WeakMap();\nvar _collections = /*#__PURE__*/new WeakMap();\nexport default class FireStoreService {\n  constructor(apiKey = \"\", appId = \"\", projectId = \"\") {\n    _classPrivateFieldInitSpec(this, _firebaseConfig, {\n      apiKey: \"AIzaSyBO-d7GVIbi1T6d-sWiKNs3Z4L7V-AgHJI\",\n      authDomain: \"upstartinterviewdatabase.firebaseapp.com\",\n      projectId: \"upstartinterviewdatabase\",\n      storageBucket: \"upstartinterviewdatabase.firebasestorage.app\",\n      messagingSenderId: \"60058567450\",\n      appId: \"1:60058567450:web:6c73dcb96fe5f21048a2a3\",\n      measurementId: \"G-S6GSY8P1QD\"\n    });\n    _classPrivateFieldInitSpec(this, _firebaseApp, null);\n    _classPrivateFieldInitSpec(this, _firebaseDataBase, null);\n    _classPrivateFieldInitSpec(this, _collections, new Map());\n    _classPrivateFieldSet(_firebaseConfig, this, {\n      apiKey,\n      appId,\n      projectId,\n      ..._classPrivateFieldGet(_firebaseConfig, this)\n    });\n    _classPrivateFieldSet(_firebaseApp, this, initializeApp(_classPrivateFieldGet(_firebaseConfig, this)));\n    _classPrivateFieldSet(_firebaseDataBase, this, getFirestore(_classPrivateFieldGet(_firebaseApp, this)));\n    console.log(\"Init Filestore\");\n  }\n  getCollectionRef(collectionName) {\n    this.updateCollectionMap(collectionName);\n    return _classPrivateFieldGet(_collections, this).get(collectionName);\n  }\n  async fetchCollectionData(collectionName) {\n    let collectionData = null;\n    this.updateCollectionMap(collectionName);\n    try {\n      collectionData = await getDocs(_classPrivateFieldGet(_collections, this).get(collectionName)\n      // collection(this.#firebaseDataBase, collectionName)\n      );\n    } catch (e) {\n      console.error(\"Error Fetching Collection Data\", e);\n    }\n    return collectionData;\n  }\n  updateCollectionMap(collectionName) {\n    if (!_classPrivateFieldGet(_collections, this).has(collectionName)) {\n      _classPrivateFieldGet(_collections, this).set(collectionName, collection(_classPrivateFieldGet(_firebaseDataBase, this), collectionName));\n    }\n  }\n  async addDataToCollection(collectionName, data) {\n    this.updateCollectionMap(collectionName);\n    const collectionRef = _classPrivateFieldGet(_collections, this).get(collectionName);\n    try {\n      await addDoc(collectionRef, {\n        ...data\n      });\n      console.log(\"Added doc\");\n    } catch (e) {\n      console.error(`Error Adding Data to Collection: ${collectionRef.id}`, e);\n    }\n  }\n  async queryCollection(collectionName, param1, op, param2) {\n    const queryData = [];\n    this.updateCollectionMap(collectionName);\n    const queryRef = query(_classPrivateFieldGet(_collections, this).get(collectionName), where(param1, op, param2));\n    try {\n      const docs = await getDocs(queryRef);\n      docs.forEach(doc => {\n        queryData.push(doc.data());\n      });\n    } catch (e) {\n      console.error(`Error querying collection ${collectionName}`, e);\n    }\n    return queryData;\n  }\n}","map":{"version":3,"names":["initializeApp","query","collection","getFirestore","getDocs","where","addDoc","_firebaseConfig","WeakMap","_firebaseApp","_firebaseDataBase","_collections","FireStoreService","constructor","apiKey","appId","projectId","_classPrivateFieldInitSpec","authDomain","storageBucket","messagingSenderId","measurementId","Map","_classPrivateFieldSet","_classPrivateFieldGet","console","log","getCollectionRef","collectionName","updateCollectionMap","get","fetchCollectionData","collectionData","e","error","has","set","addDataToCollection","data","collectionRef","id","queryCollection","param1","op","param2","queryData","queryRef","docs","forEach","doc","push"],"sources":["/Users/ijeriomitogun/Projects/TypescriptProjects/interview-web-client/src/utils/firestore-service.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport {\n  query,\n  collection,\n  getFirestore,\n  getDocs,\n  where,\n  addDoc,\n} from \"firebase/firestore\";\n\nexport default class FireStoreService {\n  #firebaseConfig = {\n    apiKey: \"AIzaSyBO-d7GVIbi1T6d-sWiKNs3Z4L7V-AgHJI\",\n    authDomain: \"upstartinterviewdatabase.firebaseapp.com\",\n    projectId: \"upstartinterviewdatabase\",\n    storageBucket: \"upstartinterviewdatabase.firebasestorage.app\",\n    messagingSenderId: \"60058567450\",\n    appId: \"1:60058567450:web:6c73dcb96fe5f21048a2a3\",\n    measurementId: \"G-S6GSY8P1QD\",\n  };\n  #firebaseApp = null;\n  #firebaseDataBase = null;\n  #collections = new Map();\n\n  constructor(apiKey = \"\", appId = \"\", projectId = \"\") {\n    this.#firebaseConfig = {\n      apiKey,\n      appId,\n      projectId,\n      ...this.#firebaseConfig,\n    };\n    this.#firebaseApp = initializeApp(this.#firebaseConfig);\n    this.#firebaseDataBase = getFirestore(this.#firebaseApp);\n    console.log(\"Init Filestore\");\n  }\n  getCollectionRef(collectionName) {\n    this.updateCollectionMap(collectionName);\n    return this.#collections.get(collectionName);\n  }\n  async fetchCollectionData(collectionName) {\n    let collectionData = null;\n    this.updateCollectionMap(collectionName);\n    try {\n      collectionData = await getDocs(\n        this.#collections.get(collectionName)\n        // collection(this.#firebaseDataBase, collectionName)\n      );\n    } catch (e) {\n      console.error(\"Error Fetching Collection Data\", e);\n    }\n    return collectionData;\n  }\n\n  updateCollectionMap(collectionName) {\n    if (!this.#collections.has(collectionName)) {\n      this.#collections.set(\n        collectionName,\n        collection(this.#firebaseDataBase, collectionName)\n      );\n    }\n  }\n\n  async addDataToCollection(collectionName, data) {\n    this.updateCollectionMap(collectionName);\n    const collectionRef = this.#collections.get(collectionName);\n    try {\n      await addDoc(collectionRef, { ...data });\n      console.log(\"Added doc\");\n    } catch (e) {\n      console.error(`Error Adding Data to Collection: ${collectionRef.id}`, e);\n    }\n  }\n\n  async queryCollection(collectionName, param1, op, param2) {\n    const queryData = [];\n    this.updateCollectionMap(collectionName);\n    const queryRef = query(\n      this.#collections.get(collectionName),\n      where(param1, op, param2)\n    );\n    try {\n      const docs = await getDocs(queryRef);\n      docs.forEach((doc) => {\n        queryData.push(doc.data());\n      });\n    } catch (e) {\n      console.error(`Error querying collection ${collectionName}`, e);\n    }\n    return queryData;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}